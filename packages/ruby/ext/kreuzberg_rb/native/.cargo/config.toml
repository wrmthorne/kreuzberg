[build]
rustflags = ["-A", "unpredictable-function-pointer-comparisons", "-A", "fn_ptr_eq"]

# Windows GNU target configuration
[target.x86_64-pc-windows-gnu]
rustflags = [
    "-A",
    "unpredictable-function-pointer-comparisons",
    "-A",
    "fn_ptr_eq",
    "-C",
    "link-arg=-lbcrypt",
    "-C",
    "link-arg=-lcrypt32",
    "-C",
    "link-arg=-lws2_32",
    "-C",
    "link-arg=-luserenv",
]

# Windows MSVC target configuration (fallback)
[target.x86_64-pc-windows-msvc]
rustflags = ["-A", "unpredictable-function-pointer-comparisons", "-A", "fn_ptr_eq"]
